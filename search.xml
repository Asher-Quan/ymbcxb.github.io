<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>七巧板</title>
      <link href="/2018/12/28/%E4%B8%83%E5%B7%A7%E6%9D%BF/"/>
      <url>/2018/12/28/%E4%B8%83%E5%B7%A7%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;/&gt;</span><br><span class="line">&lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id=&quot;canvas&quot; width=&quot;800&quot; height=&quot;800&quot;,style=&quot;border:1px solid #aaa;&quot;&gt;&lt;/canvas&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var tangram=[</span><br><span class="line">&#123;p:[&#123;x:0,y:0&#125;,&#123;x:800,y:0&#125;,&#123;x:400,y:400&#125;],color:&quot;blue&quot;&#125;,</span><br><span class="line">&#123;p:[&#123;x:0,y:0&#125;,&#123;x:400,y:400&#125;,&#123;x:0,y:800&#125;],color:&quot;#caff67&quot;&#125;,</span><br><span class="line">&#123;p:[&#123;x:800,y:0&#125;,&#123;x:800,y:400&#125;,&#123;x:600,y:600&#125;,&#123;x:600,y:200&#125;],color:&quot;#a594c0&quot;&#125;,</span><br><span class="line">&#123;p:[&#123;x:600,y:200&#125;,&#123;x:600,y:600&#125;,&#123;x:400,y:400&#125;],color:&quot;#ef3d61&quot;&#125;,</span><br><span class="line">&#123;p:[&#123;x:400,y:400&#125;,&#123;x:600,y:600&#125;,&#123;x:400,y:800&#125;,&#123;x:200,y:600&#125;],color:&quot;#f9f51a&quot;&#125;,</span><br><span class="line">&#123;p:[&#123;x:200,y:600&#125;,&#123;x:400,y:800&#125;,&#123;x:0,y:800&#125;],color:&quot;#fa8ecc&quot;&#125;,</span><br><span class="line">&#123;p:[&#123;x:800,y:400&#125;,&#123;x:800,y:800&#125;,&#123;x:400,y:800&#125;],color:&quot;#f6ca29&quot;&#125;</span><br><span class="line">];</span><br><span class="line">window.onload=function()&#123;</span><br><span class="line">var canvas=document.getElementById(&quot;canvas&quot;);</span><br><span class="line"></span><br><span class="line">if(canvas.getContext)</span><br><span class="line">&#123;</span><br><span class="line">var context=canvas.getContext(&apos;2d&apos;);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">alert(&quot;当前浏览器不支持Canvas&quot;);</span><br><span class="line">&#125;</span><br><span class="line">for(var i=0;i&lt;tangram.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">draw(tangram[i],context);</span><br><span class="line">&#125;</span><br><span class="line">function draw(piece,cxt)</span><br><span class="line">&#123;</span><br><span class="line">cxt.beginPath();</span><br><span class="line">cxt.moveTo(piece.p[0].x,piece.p[0].y);</span><br><span class="line">for(var i=1;i&lt;piece.p.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">cxt.lineTo(piece.p[i].x,piece.p[i].y);</span><br><span class="line">&#125;</span><br><span class="line">cxt.closePath();</span><br><span class="line">cxt.fillStyle=piece.color;</span><br><span class="line">cxt.fill();</span><br><span class="line">cxt.strokeStyle=&quot;black&quot;;</span><br><span class="line">cxt.lineWidth=3;</span><br><span class="line">cxt.stroke();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><img src="/2018/12/28/七巧板/1.png">]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>PHP手动搭建环境</title>
      <link href="/2018/12/28/PHP%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/"/>
      <url>/2018/12/28/PHP%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<img src="/2018/12/28/PHP手动搭建环境/1.jpg"><h4 id="php环境手动搭建"><a href="#php环境手动搭建" class="headerlink" title="php环境手动搭建"></a>php环境手动搭建</h4><p>php下载路径<br><a href="https://windows.php.net/download" target="_blank" rel="noopener">https://windows.php.net/download</a><br>（注意一点的是要下线程安全的Thread Safe）</p><p>Apache下载路径<br><a href="http://httpd.apache.org/docs/current/platform/windows.html" target="_blank" rel="noopener">http://httpd.apache.org/docs/current/platform/windows.html</a></p><p>Mysql下载路径<br><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p><p>Apache的安装<br>进入Apache的bin目录下 命令行httpd -k install进行安装<br>这里注意，请先把你的Apache的目录放置好再进行安装，否则安装后再移动位置，会出问题</p><p>这里默认上面三个已经下载好而且已经安装好了</p><p>正题：<br>Apache和Mysql整合<br>在Apache的conf目录下的httpd.conf文件中加入下面三行代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#加载PHP模块</span><br><span class="line">LoadModule php7_module &quot;E:/php7/php7apache2_4.dll&quot;</span><br><span class="line"></span><br><span class="line">#当执行后缀为php的文件，就去找这个模块执行</span><br><span class="line">AddType Application/x-httpd-php .php</span><br><span class="line"></span><br><span class="line">#载入php配置文件</span><br><span class="line">PHPIniDir &quot;E:/php7&quot;</span><br></pre></td></tr></table></figure><p>路径选择你们的位置</p><p>在php目录下拷贝php.ini-development改名为php.ini<br>在文件里面进行如下修改(目录为个人的目录)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extension_dir = &quot;E:/php7/ext&quot;</span><br></pre></td></tr></table></figure></p><p>在apache里面有个htdocs目录<br>在里面写入一个php文件<br>比如:<br>test.php<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">phpinfo();</span><br><span class="line"> ?&gt;</span><br></pre></td></tr></table></figure></p><p>在浏览器输入localhost/test.php</p><p>如果能够正确显示则配置完成</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>composer</title>
      <link href="/2018/12/27/composer/"/>
      <url>/2018/12/27/composer/</url>
      
        <content type="html"><![CDATA[<p>##composer</p>]]></content>
      
      
      <categories>
          
          <category> 技术分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> composer </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Solr单机版的搭建</title>
      <link href="/2018/12/27/Solr%E5%8D%95%E6%9C%BA%E7%89%88%E7%9A%84%E6%90%AD%E5%BB%BA/"/>
      <url>/2018/12/27/Solr%E5%8D%95%E6%9C%BA%E7%89%88%E7%9A%84%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="Solr"><a href="#Solr" class="headerlink" title="Solr"></a><strong>Solr</strong></h2><img src="/2018/12/27/Solr单机版的搭建/1.jpg"><p>Solr是一个开源搜索平台，用于构建搜索应用程序。 它建立在Lucene(全文搜索引擎)之上。 Solr是企业级的，快速的和高度可扩展的。 使用Solr构建的应用程序非常复杂，可提供高性能。</p><p><strong>solr</strong>的一些突出的特点：</p><ul><li>Restful APIs − 要与Solr通信，并非一定需要有Java编程技能。相反，您可以使用restful服务与它通信。可使用文件格式(如xml，json和.CSV)在Solr中作为输入文档，并以相同的文件格式获取结果。</li><li>全文搜索 - Solr提供了全文搜索所需的所有功能，例如令牌，短语，拼写检查，通配符和自动完成。</li><li>企业准备 - 根据企业/组织的需要，Solr可以部署在任何类型的系统(大或小)，如独立，分布式，云等。<br>灵活和可扩展 - 通过扩展Java类并相应配置，可以轻松地定制Solr的组件。</li><li>NoSQL数据库 - Solr也可以用作大数据量级的NOSQL数据库，可以沿着集群分布搜索任务。</li><li>管理界面 - Solr提供了一个易于使用，用户友好，功能强大的用户界面，使用它可以执行所有可能的任务，如管理日志，添加，删除，更新和搜索文档。</li><li>高度可扩展 - 在使用Solr与Hadoop时，我们可以通过添加副本来扩展其容量。</li><li>以文本为中心并按相关性排序 - Solr主要用于搜索文本文档，结果根据与用户查询的相关性按顺序传送</li></ul><h2 id="Solr单机版的搭建："><a href="#Solr单机版的搭建：" class="headerlink" title="Solr单机版的搭建："></a>Solr单机版的搭建：</h2><p>解压solr和tomcat<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zxf solr-4.10.3.tgz.tgz</span><br><span class="line">tar -zxf apache-tomcat-7.0.47.tar.gz</span><br></pre></td></tr></table></figure></p><p>把solr的war包放到tomcat的webapp目录下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp solr-4.10.3/dist/solr-4.10.3.war /home/quan/taotao/apache-tomcat-7.0.47/webapps/solr.war</span><br></pre></td></tr></table></figure></p><p>cp solr-4.10.3/example/lib/ext/* /home/quan/taotao/apache-tomcat-7.0.47/webapps/solr/WEB-INF/lib/<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">配置一下solrhome</span><br></pre></td></tr></table></figure></p><p>vim /home/quan/taotao/apache-tomcat-7.0.47/webapps/solr/WEB-INF/web.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">修改solr的web.xml</span><br></pre></td></tr></table></figure></p><p>vim /home/quan/taotao/apache-tomcat-7.0.47/webapps/solr/WEB-INF/web.xml<br><code>`</code><br><img src="/2018/12/27/Solr单机版的搭建/3.png"></p><p>再重新启动一次Tomcat<br><img src="/2018/12/27/Solr单机版的搭建/4.png"></p><p>在浏览器里访问一下 localhost:8080/solr<br>会出现以下界面<br><img src="/2018/12/27/Solr单机版的搭建/5.png"></p><p>整个Solr服务就启动完成了</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搜索引擎 </tag>
            
            <tag> Solr </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>线程和进程</title>
      <link href="/2018/12/20/%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B/"/>
      <url>/2018/12/20/%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>计算机所有可运行的软件，通常也包括操作系统，被组织成若干顺序进程，简称进程。一个进程就是一个正在执行程序的实例</p><p>单核CPU也就是单个核心的CPU，每次只能执行一个进程，由于CPU在各进程之间快速切换，所以每个进程所执行的时间是不确定的。</p><p>举个例子：</p><p><img src="\\images\pasted-1.png\" alt="upload successful"><br>假设你在看着食谱做美食，那么你就相当于CPU，食谱就是程序，而做美食的材料就是输入数据，进程就是，你在阅读食谱取食材以及制作美食的这一系列动作，假设你在做美食时候突然来了个电话，你可能会先熄火，然后脑海里知道自己现在做到哪个位置（保存当前状态），然后去接电话，处理完了后，你可能才回来厨房想想刚才做到哪里了，然后继续之前继续做</p><p>一个进程就是某种类型的一个活动，它有程序、输入、输出以及状态。单个处理器可以被多个进程共享，CPU使用了某种调度算法决定何时停止一个进程的工作，并且转向另一个进程提供服务。</p><p>进程的创建：有四种主要的事件<br>1、系统初始化<br>    前台进程<br>    守护进程<br>2、正在运行的程序执行了创建进程的系统调用<br>3、用户请求创建一个新进程<br>4、一个批处理作业的初始化</p><p>进程的终止<br>1、正常退出<br>2、出错退出<br>3、严重错误<br>4、被其他进程给杀死</p><p>只可以有一个父进程，但可以有零个或者多个子进程</p><p>进程有三种状态：<br>运行态，就绪态，阻塞态</p><p>​</p><p>为了实现进程模型，操作系统维护着一张表格（一个结构数组）即进程表，每个进程占用一个进程表的一个项，这张表包含了许多信息，比如程序计数器，堆栈指针，内存分配状况，等等从而保证了该进程被断掉后重新启动的时候，能够保存之前的信息。</p><p>线程<br>为什么需要线程？</p><p>首先，有了线程，我们可以不必考虑终端、定时器、和上下文的切换只需考虑并行进程。其次，线程比进程更加轻量级，速度会比用进程效率要提高很多。</p><p>每个单核处理器在某个时刻也是只能够执行一个线程的，这和进程是一样的，线程是CPU处理的基本单位，我们前面讨论的进程，是进程单线程模型。</p><p>同样的，线程也是有阻塞态、运行态、就绪态。</p><p>为了实现可移植的线程程序，IEEE在IEEE标准中定义了线程的标准，它定义的线程包叫做pthread</p><p>实现线程包有两种方法，第一种把整个线程包放在用户空间</p><p>从内核的角度上管理的就是单线程进程的模型，这样子尽管系统不支持线程，也可以进行实现</p><p>用C语言实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;pthread.h&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">#define NUMBER 10</span><br><span class="line">void *hello(void *id)&#123;</span><br><span class="line">    printf(&quot;Thread-----%d\n&quot;,id);</span><br><span class="line">    pthread_exit(NULL);</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    pthread_t threads[NUMBER];</span><br><span class="line">    int status;</span><br><span class="line">    int i;</span><br><span class="line">    for(i=0;i&lt;NUMBER;i++)&#123;</span><br><span class="line">        printf(&quot;Main---Creating thread%d\n&quot;,i);</span><br><span class="line">        status = pthread_create(&amp;threads[i],NULL,hello,(void*)i);</span><br><span class="line">        if(status!=0)&#123;</span><br><span class="line">            printf(&quot;ErrorCode----&gt;%d\n&quot;,status);</span><br><span class="line">            exit(-1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在用户空间管理线程的时候会创建一个运行时的系统，由这个系统进行管理，每个进程都需要其专用的线程表，用来跟踪该进程中的线程。这些表和进程表相似，不过它仅仅记录的是各个线程的属性，如每个线程的程序计数器，堆栈指针，寄存器和状态。因为切换线程的时候不需要陷入到内核空间，不需要有上下文的切换，也不需要对内存高速缓存进行刷新，这就使得线程调度非常快捷。</p><p>用户线程还有一个优点，允许每个进程有自己定制的调度算法，这样子就有一个很好的可扩展性</p><p>如果某个线程阻塞了，就会导致整个进程的阻塞</p><p>在内核中实现线程</p><p>此时不再需要运行时的系统了，另外，每个进程中也没有线程表，内核中有用来记录系统中所有线程的线程表了，当某个线程希望创建一个新的线程的时候，就会进行一个系统的调用，这个系统调用通过对线程表的更新完成线程创建的工作。</p><p>内核的线程表里保存了每个线程的信息，这些信息和在用户空间中的线程是一样的，但是现在保存在内核中</p><p>由于在内核中创建线程的代价比较大，所以某些系统会采取一种方式：回收线程，当某个线程被撤销的时候，就标记为不可运行的，但是其内核数据的结构没有收到影响。再次创建一个新的线程的时候，就把这个线程给重新启动就可以了，这样子可以减少多次系统调用来开辟新的线程</p><p>混合实现</p><p>使用内核级的线程，然后将用户级的线程与某些或者全部内核线程多路复用，采取这种方式：开发人员就可以决定有多少个内核级的线程和多少个用户级线程即使多路复用，这个模型可以带来最大的灵活度</p><p>进程之间的通信<br>比如说一个购票系统：</p><p>进程A和进程B，此时：进程A去买票（一共十张）：首先读出票数，把票数减一，然后把减一后的数据放回去</p><p>假设在第二个步骤的时候发生CPU 的切换，进程B去读票数，那么去读的时候此时票数还是10，然后进行减一后，放回去，再切回线程A，放回去，这里就有个问题：同一张票给了两个进程去卖了！这明显是不科学的。</p><p>为了有效避免进程的竞争问题这里需要做的就是互斥，那么什么是互斥呢？就是A在访问的时候，禁止B访问，这样子就能够进行一个有效的防止竞争了。</p><p>这里面设计很多种方法：</p><p>屏蔽中断：每个进程在刚刚进入临界区后立刻屏蔽所有中断，并在就有离开之前再打开终端，屏蔽中断后，时钟中断也会被屏蔽，CPU只有发生时钟中断或者其他中断才会进行切换，这样子，在屏蔽中断之后，CPU将不会进行切换</p><p>锁变量：共享一个变量（锁），初始值为0，当一个进程进入临界区的时候，就测试这把锁，如果该锁为0则进程把锁设置为1，然后进入，如果进入的时候锁的值为1，则等待，当出去临界区的时候再把锁的值改为0</p><p>严格轮换法：</p><p>严格轮换法同样也是针对一个临界区设置一个变量,假设为Turn。以两个进程为例子:</p><p>当Turn为0时,Process 0才能能进入临界区,否则等待。等Process 0离开临界区后,将Turn设置为1.</p><p>当Turn为1时,Process 1才能进入临界区,否则等待。等Process 1离开临界区后,将Turn设置为0.</p>]]></content>
      
      
      
    </entry>
    
  
  
</search>
